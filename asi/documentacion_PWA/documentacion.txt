Documentaci贸n T茅cnica: App de Finanzas Personales (PWA)
1. Introducci贸n y Objetivos
Desarrollo de una Aplicaci贸n Web Progresiva (PWA) para la gesti贸n de gastos personales. El objetivo principal fue crear una herramienta ligera, accesible desde cualquier dispositivo y con capacidad de instalaci贸n nativa, sin depender de frameworks pesados.

Caracter铆sticas Clave:

Arquitectura SPA (Single Page Application).

Dise帽o Mobile-First y adaptativo.

Persistencia de datos en la nube.

Funcionamiento Offline (PWA).

2. Stack Tecnol贸gico
Para este proyecto se seleccion贸 un stack minimalista y eficiente:

Frontend: HTML5, CSS3 (Variables nativas), JavaScript (Vanilla ES6+).

Backend & Base de Datos: Supabase (PostgreSQL + Auth).

Librer铆as:

Chart.js (Visualizaci贸n de datos).

FontAwesome (Iconograf铆a).

Supabase-js (Cliente de conexi贸n).

Infraestructura:

Hosting: GitHub Pages.

Empaquetado: PWABuilder (Generaci贸n de APK).

3. Arquitectura de la Soluci贸n
3.1. Estructura de Archivos
El proyecto sigue una estructura modular para facilitar el mantenimiento:

index.html: Punto de entrada 煤nico (SPA).

style.css: Estilos globales y gesti贸n de temas (Dark/Light).

main.js: L贸gica principal e inicializaci贸n.

router.js: Sistema de enrutamiento del lado del cliente (hash router).

managers/: M贸dulos de l贸gica de negocio (AuthManager, TransactionManager).

3.2. Dise帽o de Base de Datos (Supabase)
Se implement贸 una tabla transactions con Row Level Security (RLS) para asegurar que cada usuario solo vea sus datos.

Tabla: transactions

Columnas: id, user_id, amount, category, date, type (expense/income), description.

4. Ingenier铆a de Prompts (Metodolog铆a de Desarrollo)
El desarrollo se guio mediante "Role Prompting" con un Agente de IA, iterando en fases:

Fase 1: Estructura y L贸gica Core
Prompt Clave: "Act煤a como un experto en JavaScript. Crea una estructura SPA b谩sica con un Router que maneje vistas (Login, Home, Add). Conecta con Supabase para autenticaci贸n."

Resultado: Base funcional con sistema de login y navegaci贸n b谩sica.

Fase 2: Visualizaci贸n de Datos
Prompt Clave: "Integra Chart.js para mostrar un gr谩fico de donut con los gastos por categor铆a. Los colores deben coincidir con la paleta CSS definida."

Resultado: Dashboard visual con m茅tricas en tiempo real.

Fase 3: Refactorizaci贸n Mobile-Native (UX)
Basado en documentaci贸n de ergonom铆a m贸vil (Regla de las 3C, Zona del Pulgar).

Prompt Clave: "Refactoriza la interfaz para m贸vil. Convierte la tabla de transacciones en Tarjetas (Cards). Implementa un Bottom Navigation Bar y mueve los modales a Bottom Sheets (hojas deslizantes)."

Resultado: Transformaci贸n de una web de escritorio a una experiencia de app nativa.

 SOLICITUD DE CAPTURA 1:

Qu茅 necesito: Una captura de la pantalla principal ("Home" o "Transacciones") vista desde el m贸vil.

Objetivo: Mostrar el dise帽o de tarjetas y la barra de navegaci贸n inferior.

Fase 4: Conversi贸n a PWA y Offline
Prompt Clave: "Genera un Service Worker con estrategia 'Cache First' para la interfaz y 'Network Only' para la API de Supabase. Crea el manifest.json para permitir la instalaci贸n en Android."

5. Desaf铆os T茅cnicos y Soluciones (Troubleshooting)
Durante el desarrollo surgieron problemas cr铆ticos que se resolvieron mediante depuraci贸n l贸gica:

 Problema 1: "Z-Index War" en M贸vil
S铆ntoma: El bot贸n flotante (+) no funcionaba en m贸vil aunque era visible.

Causa: La barra de navegaci贸n ten铆a un 谩rea transparente (padding) que se superpon铆a al bot贸n.

Soluci贸n: Se aplic贸 z-index: 2000 al bot贸n y se ajust贸 su posici贸n bottom usando calc(80px + env(safe-area-inset-bottom)) para respetar el 谩rea segura del iPhone.

 Problema 2: Fuga de Seguridad Visual
S铆ntoma: La barra de navegaci贸n aparec铆a en la pantalla de Login.

Soluci贸n: Se implement贸 un "Guardia de Navegaci贸n" en el Router.

JavaScript

if (route === 'login') { nav.style.display = 'none'; }
 SOLICITUD DE CAPTURA 2:

Qu茅 necesito: Pantalla de Login limpia (sin barras de men煤 abajo, solo el formulario).

Objetivo: Demostrar la correcci贸n de seguridad visual.

 Problema 3: Error CORS en Producci贸n
S铆ntoma: Failed to fetch al usar la app desde el m贸vil (GitHub Pages).

Causa: Supabase bloqueaba las peticiones desde el dominio github.io.

Soluci贸n: Configuraci贸n de "Site URL" y "Redirect URLs" en el panel de autenticaci贸n de Supabase.

 Problema 4: Confusi贸n de UX en Ajustes
S铆ntoma: Dos botones + en la pantalla de Configuraci贸n.

Soluci贸n: Ocultar el FAB global en la vista settings y redise帽ar el bot贸n de "Crear Categor铆a" como un bloque est谩tico superior.

 SOLICITUD DE CAPTURA 3:

Qu茅 necesito: La pantalla de "Gesti贸n de Categor铆as" donde se vea el bot贸n rectangular grande de "Nueva Categor铆a" y NO se vea el bot贸n redondo flotante.

6. Proceso de Despliegue (Deploy)
Git: Control de versiones y push a rama main.

GitHub Pages: Hosting est谩tico autom谩tico.

PWABuilder:

An谩lisis del manifest.json y sw.js.

Generaci贸n de Trusted Web Activity (TWA) para Android.

Compilaci贸n de archivo .apk firmado.

 SOLICITUD DE CAPTURA 4:

Qu茅 necesito: Una captura de tu men煤 de aplicaciones del m贸vil donde se vea el icono de tu App instalada junto a las otras apps (Instagram, WhatsApp, etc.).

Objetivo: La prueba definitiva de que es una App real.

7. Conclusi贸n y Futuras Mejoras
El proyecto ha resultado en una aplicaci贸n financiera robusta, segura y con una experiencia de usuario nativa.

Pr贸ximos pasos (Roadmap):

[ ] Implementar API de conversi贸n de divisas.

[ ] Modo Oscuro autom谩tico seg煤n preferencias del sistema.